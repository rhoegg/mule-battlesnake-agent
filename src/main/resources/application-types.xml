<?xml version='1.0' encoding='UTF-8'?>
<types:mule xmlns:types="http://www.mulesoft.org/schema/mule/types">
  <types:catalog>
    <types:type name="episode" format="json">
      <types:shape format="weave" example="examples/episode.json"><![CDATA[%dw 2.0

type episode = {|
  episode: {|
    id: String, 
    ruleset: {|
      name: String, 
      version: String, 
      settings: {|
        foodSpawnChance: Number {"typeId": "int"}, 
        minimumFood: Number {"typeId": "int"}, 
        hazardDamagePerTurn: Number {"typeId": "int"}, 
        hazardMap: String, 
        hazardMapAuthor: String, 
        royale: {| shrinkEveryNTurns: Number {"typeId": "int"} |}, 
        squad: {|
          allowBodyCollisions: Boolean, 
          sharedElimination: Boolean, 
          sharedHealth: Boolean, 
          sharedLength: Boolean
        |}
      |}
    |}, 
    map: String, 
    timeout: Number {"typeId": "int"}, 
    source: String
  |}, 
  nnState: {|
    layer1: Array<{|      node: Number {"typeId": "int"},       weights: Array<Number {"typeId": "double"}>
    |}>, 
    layer2: Array<{|      node: Number {"typeId": "int"},       weights: Array<Number {"typeId": "double"}>
    |}>, 
    actions: Array<{|      node: Number {"typeId": "int"},       weights: Array<Number {"typeId": "double"}>
    |}>
  |}, 
  turns: Array<{|    board: {|      height: Number {"typeId": "int"},       width: Number {"typeId": "int"},       snakes: Array<{|        id: String,         name: String,         latency: String,         health: Number {"typeId": "int"},         body: Array<{|          x: Number {"typeId": "int"},           y: Number {"typeId": "int"}        |}>, 
        head: {|
          x: Number {"typeId": "int"}, 
          y: Number {"typeId": "int"}
        |}, 
        length: Number {"typeId": "int"}, 
        shout: String, 
        squad: String, 
        customizations: {|
          color: String, 
          head: String, 
          tail: String
        |}
      |}>, 
      food: Array<{|        x: Number {"typeId": "int"},         y: Number {"typeId": "int"}      |}>, 
      hazards: Array<Any>
    |}, 
    turn: Number {"typeId": "int"}, 
    observation: Array<Array<Any> | Array<Number {"typeId": "int"}>>, 
    nn: {|
      inputLayer: Array<Number {"typeId": "double"}>, 
      layer1: Array<Number {"typeId": "double"}>, 
      layer2: Array<Number {"typeId": "double"}>, 
      finalLayer: Array<Number {"typeId": "double"}>
    |}, 
    action: String
  |}>
|} {"example": "{\\\"episode\\\":{\\\"id\\\":\\\"3022f88a-ac13-4465-8dd2-b12f87c6408f\\\",\\\"ruleset\\\":{\\\"name\\\":\\\"wrapped\\\",\\\"version\\\":\\\"v1.1.11\\\",\\\"settings\\\":{\\\"foodSpawnChance\\\":15,\\\"minimumFood\\\":1,\\\"hazardDamagePerTurn\\\":14,\\\"hazardMap\\\":\\\"\\\",\\\"hazardMapAuthor\\\":\\\"\\\",\\\"royale\\\":{\\\"shrinkEveryNTurns\\\":0},\\\"squad\\\":{\\\"allowBodyCollisions\\\":false,\\\"sharedElimination\\\":false,\\\"sharedHealth\\\":false,\\\"sharedLength\\\":false}}},\\\"map\\\":\\\"standard\\\",\\\"timeout\\\":500,\\\"source\\\":\\\"custom\\\"},\\\"nnState\\\":{\\\"layer1\\\":[{\\\"node\\\":1,\\\"weights\\\":[-0.168234653098172,-0.5193904800767950,0.7786474757807536,0.7351090920636856,-0.3688838787774098,-0.75133546362070302,0.9129131735329802,0.1515314504319776,0.03311900136494,0.1870525427417628,-0.28765633475954732,0.8048037065748774,0.9786105111349172,-0.82977647753495676,0.7790857935550956,-0.90753401033796144,-0.15530151133544812,-0.40865934552168070,-0.09027226532380728,-0.8588939569346130,-0.0673055734095926,0.0767657065624776,0.5747025195931870,-0.2081652468209978,0.1343160700788996]},{\\\"node\\\":2,\\\"weights\\\":[-0.70899906452130224,0.4629553086121094,0.5136498441982150,-0.5782708131749370,0.2730658109672676,-0.69908003090969272,-0.64929304884071626,-0.3004243432039686,-0.53400918130747166,-0.1713219431763724,0.7614686943545048,0.512212410974950,-0.1156862499377806,0.5525024883834692,-0.47784394131579266,-0.883034563268514150,0.7101667016317608,0.6918151405862226,0.7438798877963778,-0.48572101697217174,-0.983254473402526586,0.5999164071127442,-0.50771725907306208,0.1682207053235762,-0.71134414205660224]},{\\\"node\\\":3,\\\"weights\\\":[0.861673235313450,0.500474786549252,0.3558791318167938,0.941834156575762,0.2576788683192346,-0.969499162206418186,-0.64822992390277556,-0.85855588248644388,0.8332277037408038,0.0655280866293456,0.9834455389734598,-0.12564742615551494,-0.57822548753165592,0.7043980108055734,0.487076764121744,0.4534920894937710,-0.85362237952816810,-0.11786164091202212,-0.953137740523855692,-0.58537925883215424,-0.34104824863541050,0.3544845102050276,-0.08031180734067190,-0.88830827338560336,-0.82401356771847456]},{\\\"node\\\":4,\\\"weights\\\":[0.2614129252483010,0.626548068065168,0.2252503046887910,0.7307114482583832,-0.4758580518077606,0.3348060780656394,-0.1310232050624382,-0.51447816583807504,-0.1679911485392056,0.2604662860038292,0.0126987354319382,-0.56519947012742766,0.0400848061201106,-0.31281066573158034,0.5358986450831838,0.3771063921852162,-0.57465713056659528,-0.971125926013809870,-0.61605488243450090,-0.3529769364728972,-0.56135300631163764,0.2552027714493854,-0.980019285029956056,-0.2292080581737042,0.3417830654451172]},{\\\"node\\\":5,\\\"weights\\\":[-0.0453766202193078,-0.35139896790933966,0.9461810717698508,0.4332065306890170,-0.67317650187834688,-0.46683634815624830,0.0458699633723338,0.44313417592336,0.4768261836840292,-0.86323164705027410,-0.29504224819755632,0.1180599093867894,-0.4745819838708796,0.7876536044650876,-0.0229690220375274,0.0167294668044762,0.2556964538917094,-0.89704362395864124,-0.97044440437347168,-0.89594059819903116,-0.71689765010628004,-0.4995132495777124,0.3981845251352602,-0.14355835489472212,-0.93361847063445502]},{\\\"node\\\":6,\\\"weights\\\":[0.7863712753259610,0.4309021229027954,-0.71867437006835332,0.4694974692800766,-0.9728782697277516,0.7267533167699202,0.5059249903633714,0.039594939973148,-0.30210982760092308,0.6102349028843490,-0.5956524245878898,0.6836930477580602,-0.55562684221765556,-0.01874700581139432,0.1094016461125870,0.0068638732179874,-0.295968035650326,-0.7581202155892124,0.1947832556010854,0.2172314129014096,-0.09700171969081150,0.4249710982069012,0.8153043037546888,-0.79179692618232766,-0.02176192455030490]},{\\\"node\\\":7,\\\"weights\\\":[0.1360331609584002,-0.84272763657185812,0.1959246861994404,0.5702496754639638,0.4685566341962364,0.1780876676507294,-0.87997192747537234,0.3897749943696724,0.6643623238432888,-0.1964250824301912,0.9083174013536846,-0.0172940164051456,-0.035666411374266,0.503521663950128,-0.3388795307800174,-0.5994283716436526,0.8312352223111474,0.4803469967522936,-0.17139289370184452,0.1296937857536168,-0.4748494906959442,-0.41722167995516268,-0.46554304031921312,-0.9596964404154944,-0.12660719555800526]},{\\\"node\\\":8,\\\"weights\\\":[0.4958669044037782,-0.65816462777446282,0.0876125223686966,0.0005787160272258,0.7606252920678366,-0.0372844387917346,0.0300369221945856,0.7708763453883550,-0.25897580654214414,0.6791621171893428,-0.47452469102781314,0.743271507172732,0.7830381014337746,0.5752708308253606,0.624744208745686,-0.4479782105142238,0.4998833627114750,-0.92896485397629802,-0.09802178524471006,-0.2017027283274004,0.3695441025444748,0.7044910692952750,-0.75499484327079248,0.7753344813296608,0.6451360403469486]}],\\\"layer2\\\":[{\\\"node\\\":1,\\\"weights\\\":[-0.37393234976195488,-0.3255898698573210,-0.3517414708209792,0.955610197953646,-0.15085047181332234,-0.53179615331897990,-0.92894408997406352,-0.08624753235640470]},{\\\"node\\\":2,\\\"weights\\\":[-0.05656343199385194,0.3397161616894508,0.6470096141401456,-0.4496129302062244,-0.4372374910708356,0.4495362801244778,-0.87476473943573718,-0.54185352898240490]},{\\\"node\\\":3,\\\"weights\\\":[-0.0333863014593858,0.6280267847991964,0.7747856077449042,0.1551222864862482,-0.475333226584016,0.3431393751670806,0.9891189015385812,-0.63183489205533716]},{\\\"node\\\":4,\\\"weights\\\":[0.0862422176525182,0.6689652008285576,0.8475547715184638,0.6875550088341850,-0.948351366443022314,0.7936547688145914,0.096668978937132,-0.6407837638690348]},{\\\"node\\\":5,\\\"weights\\\":[0.9999714871650894,0.4510456506174434,0.813407161033002,0.8576044011993132,-0.19206278615544714,-0.931460190761954410,-0.12697490540706568,0.3218461302600362]}],\\\"actions\\\":[{\\\"node\\\":0,\\\"weights\\\":[-0.66293774636180714,-0.6055249732978578,-0.73120798375789464,0.9396648443913808,-0.02862519432139732]},{\\\"node\\\":1,\\\"weights\\\":[0.9014379200634052,-0.68327950766340618,0.9280801125590558,-0.44442527325886228,0.357670193523794]},{\\\"node\\\":2,\\\"weights\\\":[0.8274159959558638,-0.1131803165575964,0.6135759283446766,-0.38307890755167806,0.438465612855344]}]},\\\"turns\\\":[{\\\"board\\\":{\\\"height\\\":19,\\\"width\\\":19,\\\"snakes\\\":[{\\\"id\\\":\\\"gs_XX3xPGmB8JwB9jSbWVGMHYp4\\\",\\\"name\\\":\\\"aurora\\\",\\\"latency\\\":\\\"\\\",\\\"health\\\":100,\\\"body\\\":[{\\\"x\\\":9,\\\"y\\\":17},{\\\"x\\\":9,\\\"y\\\":17},{\\\"x\\\":9,\\\"y\\\":17}],\\\"head\\\":{\\\"x\\\":9,\\\"y\\\":17},\\\"length\\\":3,\\\"shout\\\":\\\"\\\",\\\"squad\\\":\\\"\\\",\\\"customizations\\\":{\\\"color\\\":\\\"#1836dc\\\",\\\"head\\\":\\\"smart-caterpillar\\\",\\\"tail\\\":\\\"round-bum\\\"}}],\\\"food\\\":[{\\\"x\\\":10,\\\"y\\\":18},{\\\"x\\\":9,\\\"y\\\":9}],\\\"hazards\\\":[]},\\\"turn\\\":0,\\\"observation\\\":[[],[],[],[100,3,1]]},{\\\"board\\\":{\\\"height\\\":19,\\\"width\\\":19,\\\"snakes\\\":[{\\\"id\\\":\\\"gs_XX3xPGmB8JwB9jSbWVGMHYp4\\\",\\\"name\\\":\\\"aurora\\\",\\\"latency\\\":\\\"\\\",\\\"health\\\":100,\\\"body\\\":[{\\\"x\\\":9,\\\"y\\\":17},{\\\"x\\\":9,\\\"y\\\":17},{\\\"x\\\":9,\\\"y\\\":17}],\\\"head\\\":{\\\"x\\\":9,\\\"y\\\":17},\\\"length\\\":3,\\\"shout\\\":\\\"\\\",\\\"squad\\\":\\\"\\\",\\\"customizations\\\":{\\\"color\\\":\\\"#1836dc\\\",\\\"head\\\":\\\"smart-caterpillar\\\",\\\"tail\\\":\\\"round-bum\\\"}}],\\\"food\\\":[{\\\"x\\\":10,\\\"y\\\":18},{\\\"x\\\":9,\\\"y\\\":9}],\\\"hazards\\\":[]},\\\"turn\\\":0,\\\"observation\\\":[100,3,1],\\\"nn\\\":{\\\"inputLayer\\\":[1.000000000000000000000000000000000,0.9525741268224332191231318630026230,0.7310585786300048792540316286911871],\\\"layer1\\\":[0.4765782368637409986779390150282738,0.5268512200363237971192460423385924,0.8318199753113698384491006534898193,0.7355405173228270109443826808555329,0.5772766343924475195647423019443378,0.6618265147074745364043657409511350,0.3720353592160816275670296347546420,0.4832478212837785279956988196900755],\\\"layer2\\\":[0.3173971831132713071547010875609650,0.4544578398800207613205123502583926,0.7481746611214739064404759987912077,0.7872438639849382251551070611421177,0.8025903757240436502456728215661420],\\\"finalLayer\\\":[-0.31590035260653634259531511836852139,0.6071497368327507615645459530785429,0.72057754803265465499405120695041941]},\\\"action\\\":\\\"right\\\"},{\\\"board\\\":{\\\"height\\\":19,\\\"width\\\":19,\\\"snakes\\\":[{\\\"id\\\":\\\"gs_XX3xPGmB8JwB9jSbWVGMHYp4\\\",\\\"name\\\":\\\"aurora\\\",\\\"latency\\\":\\\"368\\\",\\\"health\\\":99,\\\"body\\\":[{\\\"x\\\":9,\\\"y\\\":18},{\\\"x\\\":9,\\\"y\\\":17},{\\\"x\\\":9,\\\"y\\\":17}],\\\"head\\\":{\\\"x\\\":9,\\\"y\\\":18},\\\"length\\\":3,\\\"shout\\\":\\\"Moving right.\\\",\\\"squad\\\":\\\"\\\",\\\"customizations\\\":{\\\"color\\\":\\\"#1836dc\\\",\\\"head\\\":\\\"smart-caterpillar\\\",\\\"tail\\\":\\\"round-bum\\\"}}],\\\"food\\\":[{\\\"x\\\":10,\\\"y\\\":18},{\\\"x\\\":9,\\\"y\\\":9}],\\\"hazards\\\":[]},\\\"turn\\\":1,\\\"observation\\\":[0,1,0,1,0,1,0,1,0,1,0,1,0,0,0,0,0,0,0,1,0,1,1,0,0,0,0,0,99,3,1],\\\"nn\\\":{\\\"inputLayer\\\":[0.5,0.7310585786300048792540316286911871,0.5,0.7310585786300048792540316286911871,0.5,0.7310585786300048792540316286911871,0.5,0.7310585786300048792540316286911871,0.5,0.7310585786300048792540316286911871,0.5,0.7310585786300048792540316286911871,0.5,0.5,0.5,0.5,0.5,0.5,0.5,0.7310585786300048792540316286911871,0.5,0.7310585786300048792540316286911871,0.7310585786300048792540316286911871,0.5,0.5,0.5,0.5,0.5,1.000000000000000000000000000000000,0.9525741268224332191231318630026230,0.7310585786300048792540316286911871],\\\"layer1\\\":[0.5878603318874634295929213335705647,0.2354438579696829076493094850561460,0.3346446719099721002794605817798361,0.2187875164410684947425382278154972,0.07221018523335314568239404209332542,0.8126701044488202189275955972283869,0.4526588047308652604648603548215171,0.9327915718659430901631473440665431],\\\"layer2\\\":[0.2406490465190895423745614382091501,0.4006461927613840971095564975210582,0.6281652167464198637137220664916332,0.6603377071166618757051094957015656,0.6515309120432561853019929743050835],\\\"finalLayer\\\":[-0.25961010350129510908888665118020006,0.4657269091546865193040626479556427,0.57191111678192856465786685476872291]},\\\"action\\\":\\\"right\\\"},{\\\"board\\\":{\\\"height\\\":19,\\\"width\\\":19,\\\"snakes\\\":[{\\\"id\\\":\\\"gs_XX3xPGmB8JwB9jSbWVGMHYp4\\\",\\\"name\\\":\\\"aurora\\\",\\\"latency\\\":\\\"405\\\",\\\"health\\\":100,\\\"body\\\":[{\\\"x\\\":10,\\\"y\\\":18},{\\\"x\\\":9,\\\"y\\\":18},{\\\"x\\\":9,\\\"y\\\":17},{\\\"x\\\":9,\\\"y\\\":17}],\\\"head\\\":{\\\"x\\\":10,\\\"y\\\":18},\\\"length\\\":4,\\\"shout\\\":\\\"Moving right.\\\",\\\"squad\\\":\\\"\\\",\\\"customizations\\\":{\\\"color\\\":\\\"#1836dc\\\",\\\"head\\\":\\\"smart-caterpillar\\\",\\\"tail\\\":\\\"round-bum\\\"}}],\\\"food\\\":[{\\\"x\\\":9,\\\"y\\\":9}],\\\"hazards\\\":[]},\\\"turn\\\":2,\\\"observation\\\":[0,1,0,0,0,0,0,0,0,0,0,0,0,1,0,1,0,1,0,1,0,0,0,0,0,0,0,1,100,4,1],\\\"nn\\\":{\\\"inputLayer\\\":[0.5,0.7310585786300048792540316286911871,0.5,0.5,0.5,0.5,0.5,0.5,0.5,0.5,0.5,0.5,0.5,0.7310585786300048792540316286911871,0.5,0.7310585786300048792540316286911871,0.5,0.7310585786300048792540316286911871,0.5,0.7310585786300048792540316286911871,0.5,0.5,0.5,0.5,0.5,0.5,0.5,0.7310585786300048792540316286911871,1.000000000000000000000000000000000,0.9820137900379084419742390298251804,0.7310585786300048792540316286911871],\\\"layer1\\\":[0.3654735043578129510160442518390980,0.3036755198873863607011691426749551,0.4276037940261386186237081760956909,0.2023432033819672999700034666323894,0.07772529118001392420464108187569017,0.6031089333628236482706742229240325,0.4723472173647780701023531136479497,0.8763723999619774299333729830839505],\\\"layer2\\\":[0.2612646578855667482801588007385771,0.4054651179351902002424590959737332,0.6512852956986805944252621399798248,0.6514122786958538118397896091125316,0.6613154334257169981378005799126269],\\\"finalLayer\\\":[-0.30176753142673740970183975374753975,0.5099415332631550928778739244408866,0.61031863935618892921394718805219983]},\\\"action\\\":\\\"right\\\"}]}"}

]]></types:shape>
    </types:type>
  </types:catalog>
  <types:enrichment select="#b8f26422-d165-480d-8353-f7676f39fd6d">
    <types:processor-declaration>
      <types:input-event>
        <types:variables>
          <types:variable name="episode" type="episode"/>
        </types:variables>
      </types:input-event>
    </types:processor-declaration>
  </types:enrichment>
</types:mule>